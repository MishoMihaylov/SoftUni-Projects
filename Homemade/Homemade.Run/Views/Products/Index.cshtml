@model List<Homemade.Models.EntityModels.Product>

@{
    ViewBag.Title = "Products";
}

@section scripts
{
    <script src="~/Content/Scripts/addtocart.js"></script>
}

<h2>Products</h2>

@if (Model.Count > 0)
{
    <table class="table">
        @foreach (var product in Model)
        {
            <tr>
                <td>
                    @product.Name (@product.Category)
                </td>
                <td>
                    @product.Quantity
                </td>
                <td>
                    @product.Price
                </td>
                @if (Request.IsAuthenticated)
                {
                    <td>
                        <button class="btn btn-success" onclick="addItem(@product.Id)">
                            Add To Cart
                        </button>
                    </td>
                }

                @if (Request.IsAuthenticated && User.IsInRole("Admin"))
                {
                    <td>
                        <button class="btn btn-warning" onclick="addItem(@product.Id)">
                            Edit
                        </button>
                    </td>
                    <td>
                        <button class="btn btn-danger" onclick="deleteItem(@product.Id)">
                            Delete 
                        </button>
                    </td>
                }
                

            </tr>
        }
    </table>
}
else
{
    <h4>No Products Available.</h4>
}
    @*https://docs.microsoft.com/en-us/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/sorting-filtering-and-paging-with-the-entity-framework-in-an-asp-net-mvc-application*@
